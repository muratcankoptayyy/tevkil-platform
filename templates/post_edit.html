{% extends "base.html" %}

{% block title %}İlan Düzenle - Ulusal Tevkil Ağı Projesi{% endblock %}

{% block content %}
<div class="layout-content-container flex flex-col max-w-4xl mx-auto flex-1">
    <div class="flex flex-wrap justify-between gap-3 p-4">
        <div class="flex min-w-72 flex-col gap-3">
            <p class="text-gray-900 dark:text-white tracking-light text-[32px] font-bold leading-tight">İlan Düzenle</p>
            <p class="text-gray-600 dark:text-gray-300 text-sm font-normal leading-normal">İlan bilgilerinizi güncelleyin</p>
        </div>
    </div>
    
    <form method="POST" class="px-4 pb-4">
        <!-- Başlık -->
        <div class="mb-6">
            <label class="flex flex-col min-w-40 h-12 flex-1">
                <p class="text-gray-900 dark:text-white text-base font-medium leading-normal pb-2">İlan Başlığı *</p>
                <input type="text" name="title" required value="{{ post.title }}"
                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-0 focus:ring-2 focus:ring-primary border border-gray-300 dark:border-gray-700 bg-background-light dark:bg-gray-800 h-12 placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 text-base font-normal leading-normal"
                    placeholder="Örn: Ankara 5. Asliye Hukuk'ta Duruşma Temsili" />
            </label>
        </div>
        
        <!-- Kategori -->
        <div class="mb-6">
            <label class="flex flex-col min-w-40 flex-1">
                <p class="text-gray-900 dark:text-white text-base font-medium leading-normal pb-2">Kategori *</p>
                <select name="category" required
                    class="form-select flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-0 focus:ring-2 focus:ring-primary border border-gray-300 dark:border-gray-700 bg-background-light dark:bg-gray-800 h-12 placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 text-base font-normal leading-normal">
                    <option value="durusma" {% if post.category == 'durusma' %}selected{% endif %}>Duruşma</option>
                    <option value="kesif" {% if post.category == 'kesif' %}selected{% endif %}>Keşif</option>
                    <option value="haciz" {% if post.category == 'haciz' %}selected{% endif %}>Haciz</option>
                    <option value="dilekce" {% if post.category == 'dilekce' %}selected{% endif %}>Dilekçe</option>
                    <option value="evrak_teslim" {% if post.category == 'evrak_teslim' %}selected{% endif %}>Evrak Teslim</option>
                    <option value="tanik_dinleme" {% if post.category == 'tanik_dinleme' %}selected{% endif %}>Tanık Dinleme</option>
                    <option value="diger" {% if post.category == 'diger' %}selected{% endif %}>Diğer</option>
                </select>
            </label>
        </div>
        
        <!-- Aciliyet -->
        <div class="mb-6">
            <label class="flex flex-col min-w-40 flex-1">
                <p class="text-gray-900 dark:text-white text-base font-medium leading-normal pb-2">Aciliyet Durumu *</p>
                <select name="urgency_level" required
                    class="form-select flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-0 focus:ring-2 focus:ring-primary border border-gray-300 dark:border-gray-700 bg-background-light dark:bg-gray-800 h-12 placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 text-base font-normal leading-normal">
                    <option value="normal" {% if post.urgency_level == 'normal' %}selected{% endif %}>Normal</option>
                    <option value="urgent" {% if post.urgency_level == 'urgent' %}selected{% endif %}>Acil</option>
                    <option value="very_urgent" {% if post.urgency_level == 'very_urgent' %}selected{% endif %}>Çok Acil</option>
                </select>
            </label>
        </div>
        
        <!-- Şehir -->
        <div class="mb-6">
            <label class="flex flex-col min-w-40 flex-1">
                <p class="text-gray-900 dark:text-white text-base font-medium leading-normal pb-2">Şehir *</p>
                <select name="location" required
                    class="form-select flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-0 focus:ring-2 focus:ring-primary border border-gray-300 dark:border-gray-700 bg-background-light dark:bg-gray-800 h-12 placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 text-base font-normal leading-normal">
                    <option value="">Seçiniz</option>
                    <option value="İstanbul" {% if post.location == 'İstanbul' %}selected{% endif %}>İstanbul</option>
                    <option value="Ankara" {% if post.location == 'Ankara' %}selected{% endif %}>Ankara</option>
                    <option value="İzmir" {% if post.location == 'İzmir' %}selected{% endif %}>İzmir</option>
                    <option value="Bursa" {% if post.location == 'Bursa' %}selected{% endif %}>Bursa</option>
                    <option value="Antalya" {% if post.location == 'Antalya' %}selected{% endif %}>Antalya</option>
                    <option value="Adana" {% if post.location == 'Adana' %}selected{% endif %}>Adana</option>
                    <option value="Gaziantep" {% if post.location == 'Gaziantep' %}selected{% endif %}>Gaziantep</option>
                    <option value="Konya" {% if post.location == 'Konya' %}selected{% endif %}>Konya</option>
                    <option value="Kocaeli" {% if post.location == 'Kocaeli' %}selected{% endif %}>Kocaeli</option>
                    <option value="Mersin" {% if post.location == 'Mersin' %}selected{% endif %}>Mersin</option>
                </select>
            </label>
        </div>
        
        <!-- Fiyat Aralığı -->
        <div class="grid grid-cols-2 gap-4 mb-6">
            <label class="flex flex-col min-w-40 flex-1">
                <p class="text-gray-900 dark:text-white text-base font-medium leading-normal pb-2">Min. Ücret (₺)</p>
                <input type="number" name="price_min" min="0" step="100" value="{{ post.price_min }}"
                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-0 focus:ring-2 focus:ring-primary border border-gray-300 dark:border-gray-700 bg-background-light dark:bg-gray-800 h-12 placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 text-base font-normal leading-normal"
                    placeholder="500" />
            </label>
            
            <label class="flex flex-col min-w-40 flex-1">
                <p class="text-gray-900 dark:text-white text-base font-medium leading-normal pb-2">Max. Ücret (₺)</p>
                <input type="number" name="price_max" min="0" step="100" value="{{ post.price_max }}"
                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-0 focus:ring-2 focus:ring-primary border border-gray-300 dark:border-gray-700 bg-background-light dark:bg-gray-800 h-12 placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 text-base font-normal leading-normal"
                    placeholder="1500" />
            </label>
        </div>
        
        <!-- Uzaktan Çalışma -->
        <div class="mb-6">
            <label class="flex items-center gap-3 cursor-pointer">
                <input type="checkbox" name="remote_allowed" {% if post.remote_allowed %}checked{% endif %}
                    class="w-5 h-5 rounded border-gray-300 dark:border-gray-700 text-primary focus:ring-primary focus:ring-2 cursor-pointer" />
                <p class="text-gray-900 dark:text-white text-base font-normal leading-normal">Uzaktan (online) çalışma mümkün</p>
            </label>
        </div>
        
        <!-- Açıklama -->
        <div class="mb-6">
            <label class="flex flex-col min-w-40 flex-1">
                <p class="text-gray-900 dark:text-white text-base font-medium leading-normal pb-2">Detaylı Açıklama *</p>
                <textarea name="description" required rows="8"
                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-900 dark:text-white dark:bg-gray-800 focus:outline-0 focus:ring-2 focus:ring-primary border border-gray-300 dark:border-gray-700 bg-background-light dark:bg-gray-800 placeholder:text-gray-500 dark:placeholder:text-gray-400 p-4 text-base font-normal leading-normal"
                    placeholder="İşin detaylarını, beklentilerinizi ve özel notlarınızı yazınız...">{{ post.description }}</textarea>
            </label>
        </div>
        
        <!-- Buttons -->
        <div class="flex gap-3 justify-end pt-4">
            <a href="{{ url_for('post_detail', post_id=post.id) }}" class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-background-light dark:bg-gray-800 text-gray-900 dark:text-white text-sm font-bold leading-normal tracking-[0.015em] border border-gray-300 dark:border-gray-700">
                <span class="truncate">İptal</span>
            </a>
            <button type="submit" class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-blue-600 transition-colors">
                <span class="truncate">Güncelle</span>
            </button>
        </div>
    </form>
</div>
{% endblock %}


