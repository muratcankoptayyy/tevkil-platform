{% extends "base.html" %}

{% block title %}Bildirim Ayarları - Ulusal Tevkil Ağı Projesi{% endblock %}

{% block content %}
<div class="layout-content-container flex flex-col max-w-4xl mx-auto flex-1 p-4">
    <!-- Header -->
    <div class="mb-8">
        <div class="flex items-center gap-3 mb-2">
            <a href="{{ url_for('notifications') }}" class="text-gray-600 dark:text-gray-400 hover:text-primary">
                <span class="material-symbols-outlined">arrow_back</span>
            </a>
            <h1 class="text-xl md:text-3xl font-bold text-gray-900 dark:text-white">Bildirim Ayarları</h1>
        </div>
        <p class="text-gray-600 dark:text-gray-400 ml-12">
            Hangi bildirimleri almak istediğinizi seçin
        </p>
    </div>
    
    <form method="POST" action="{{ url_for('update_notification_settings') }}" class="space-y-6">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
        <!-- Platform İçi Bildirimler -->
        <div class="bg-white dark:bg-gray-800 rounded-xl p-3 md:p-6 border border-gray-200 dark:border-gray-700">
            <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center">
                    <span class="material-symbols-outlined text-primary">notifications</span>
                </div>
                <h2 class="text-xl font-bold text-gray-900 dark:text-white">Platform İçi Bildirimler</h2>
            </div>
            
            <div class="space-y-4">
                <!-- Yeni Başvuru -->
                <label class="flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors">
                    <div class="flex items-center gap-3">
                        <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">description</span>
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white">Yeni Başvurular</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">İlanınıza yeni başvuru geldiğinde</div>
                        </div>
                    </div>
                    <input type="checkbox" name="notify_new_application" 
                           {{ 'checked' if user.notify_new_application }}
                           class="w-5 h-5 text-primary rounded focus:ring-primary">
                </label>
                
                <!-- Başvuru Durumu -->
                <label class="flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors">
                    <div class="flex items-center gap-3">
                        <span class="material-symbols-outlined text-green-600 dark:text-green-400">check_circle</span>
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white">Başvuru Durum Değişiklikleri</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Başvurunuz kabul/red edildiğinde</div>
                        </div>
                    </div>
                    <input type="checkbox" name="notify_application_status" 
                           {{ 'checked' if user.notify_application_status }}
                           class="w-5 h-5 text-primary rounded focus:ring-primary">
                </label>
                
                <!-- Yeni Mesaj -->
                <label class="flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors">
                    <div class="flex items-center gap-3">
                        <span class="material-symbols-outlined text-purple-600 dark:text-purple-400">mail</span>
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white">Yeni Mesajlar</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Size mesaj gönderildiğinde</div>
                        </div>
                    </div>
                    <input type="checkbox" name="notify_new_message" 
                           {{ 'checked' if user.notify_new_message }}
                           class="w-5 h-5 text-primary rounded focus:ring-primary">
                </label>
                
                <!-- Yeni Değerlendirme -->
                <label class="flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors">
                    <div class="flex items-center gap-3">
                        <span class="material-symbols-outlined text-yellow-600 dark:text-yellow-400">star</span>
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white">Yeni Değerlendirmeler</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Hakkınızda değerlendirme yapıldığında</div>
                        </div>
                    </div>
                    <input type="checkbox" name="notify_new_rating" 
                           {{ 'checked' if user.notify_new_rating }}
                           class="w-5 h-5 text-primary rounded focus:ring-primary">
                </label>
                
                <!-- İlan Sona Erme -->
                <label class="flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors">
                    <div class="flex items-center gap-3">
                        <span class="material-symbols-outlined text-red-600 dark:text-red-400">schedule</span>
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white">İlan Sona Erme Uyarıları</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">İlanınızın süresi dolmak üzereyken</div>
                        </div>
                    </div>
                    <input type="checkbox" name="notify_post_expiring" 
                           {{ 'checked' if user.notify_post_expiring }}
                           class="w-5 h-5 text-primary rounded focus:ring-primary">
                </label>
                
                <!-- Sistem Bildirimleri -->
                <label class="flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors">
                    <div class="flex items-center gap-3">
                        <span class="material-symbols-outlined text-gray-600 dark:text-gray-400">info</span>
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white">Sistem Bildirimleri</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Önemli sistem güncellemeleri ve duyurular</div>
                        </div>
                    </div>
                    <input type="checkbox" name="notify_system" 
                           {{ 'checked' if user.notify_system }}
                           class="w-5 h-5 text-primary rounded focus:ring-primary">
                </label>
            </div>
        </div>
        
        <!-- Email Bildirimleri -->
        <div class="bg-white dark:bg-gray-800 rounded-xl p-3 md:p-6 border border-gray-200 dark:border-gray-700">
            <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center">
                    <span class="material-symbols-outlined text-purple-600 dark:text-purple-400">email</span>
                </div>
                <h2 class="text-xl font-bold text-gray-900 dark:text-white">Email Bildirimleri</h2>
            </div>
            
            <label class="flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors">
                <div>
                    <div class="font-medium text-gray-900 dark:text-white">Email Bildirimleri Gönder</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">Önemli güncellemeleri email ile de alın</div>
                </div>
                <input type="checkbox" name="notify_email" 
                       {{ 'checked' if user.notify_email }}
                       class="w-5 h-5 text-primary rounded focus:ring-primary">
            </label>
        </div>
        
        <!-- Kaydet Butonu -->
        <div class="flex justify-end gap-3">
            <a href="{{ url_for('notifications') }}" class="btn-outline">
                İptal
            </a>
            <button type="submit" class="btn-primary w-full sm:w-auto">
                <span class="material-symbols-outlined">save</span>
                Ayarları Kaydet
            </button>
        </div>
    </form>
</div>
{% endblock %}
